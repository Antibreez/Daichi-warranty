!function(){var e=document.querySelector("input[name='name']"),t=document.querySelector("input[name='password']"),n=document.querySelector(".authorization__button");if(e&&t&&n){var u=function(e){var t=e.target;t.classList.contains("js--wrong-input")&&t.classList.remove("js--wrong-input")};n.addEventListener("click",(function(){""===e.value&&e.classList.add("js--wrong-input"),""===t.value&&t.classList.add("js--wrong-input")})),e.addEventListener("input",u),t.addEventListener("input",u)}}(),function(){var e=document.querySelector(".not-used-products__button"),t=document.querySelector(".not-used-products__show"),n=document.querySelector(".not-used-products__hide"),u=document.querySelector(".not-used-products__content");if(e){var o=function(e){e.classList.toggle("shown"),e.classList.toggle("hidden")};e.addEventListener("click",(function(){o(t),o(n),u.classList.toggle("show")}))}}(),function(){var e=document.querySelector("body"),t=document.querySelector("label[for='serial-number-1'] button"),n=document.querySelector(".popup-warranty"),u=document.querySelector(".popup-warranty__close"),o=document.querySelector(".popup-warranty__overlay"),r=document.querySelector(".device-data__purchase-date"),a=document.querySelector(".device-data__calendar"),i=document.querySelectorAll(".device-data__serial-number"),c=document.querySelector(".device-data__submit");if(t){var s=function(){6===i[0].value.length&&6===i[1].value.length&&6===i[2].value.length&&10===r.value.length&&"Г"!==r.value[9]?c.removeAttribute("disabled"):c.setAttribute("disabled","")},d=function(e){return Math.floor(e/10)>0?e:"0"+e},l=new Pikaday({field:a,firstDay:1,onSelect:function(){var e=new Date(l);r.value=function(e){var t=(e=new Date(e)).getDate(),n=e.getMonth()+1,u=e.getFullYear();return d(t)+"."+d(n)+"."+u}(e),s()}});new Inputmask("99.99.9999",{placeholder:"ДД.ММ.ГГГГ"}).mask(r);var v=function(e){var t=e.target;6===t.value.length?(t.classList.contains("js--wrong-input")&&t.classList.remove("js--wrong-input"),"serial-number-1"!==t.id&&"serial-number-2"!==t.id||t.nextSibling.nextSibling.focus(),"serial-number-3"===t.id&&r.focus()):t.classList.add("js--wrong-input"),s()},p=function(){n.classList.add("hidden"),e.classList.remove("popup")};t.addEventListener("click",(function(){n.classList.remove("hidden"),e.classList.add("popup")})),u.addEventListener("click",(function(){p()})),o.addEventListener("click",(function(){p()})),i.forEach((function(e){e.addEventListener("input",v)})),r.addEventListener("input",(function(){s(),console.log(r.value.length)}))}}(),function(){var e=document.querySelector(".contacts input"),t=document.querySelector(".contacts__button");if(e){new Inputmask("+7(999)999-99-99").mask(e);e.addEventListener("input",(function(){var n=e.value;16===n.length&&-1===n.indexOf("_")?t.removeAttribute("disabled"):t.setAttribute("disabled","")}))}}();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImF1dGhvcml6YXRpb24uanMiLCJhY2NvdW50LmpzIiwiZGV2aWNlLWRhdGEuanMiLCJjb250YWN0cy5qcyJdLCJuYW1lcyI6WyJuYW1lSW5wdXQiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJwYXNzd29yZElucHV0Iiwic3VibWl0QnV0dG9uIiwib25JbnB1dCIsImV2dCIsInRhcmdldCIsImNsYXNzTGlzdCIsImNvbnRhaW5zIiwicmVtb3ZlIiwiYWRkRXZlbnRMaXN0ZW5lciIsInZhbHVlIiwiYWRkIiwib2xkUHJvZHVjdHNCdXR0b24iLCJvbGRQcm9kdWN0c1Nob3ciLCJvbGRQcm9kdWN0c0hpZGUiLCJvbGRQcm9kdWN0cyIsIm9sZFByb2R1Y3RzQnV0dG9uVG9nZ2xlIiwiaXRlbSIsInRvZ2dsZSIsImJvZHkiLCJ3YXJyYW50eUNvZGVCdXR0b24iLCJwb3B1cCIsInBvcHVwQ2xvc2UiLCJwb3B1cE92ZXJsYXkiLCJjYWxlbmRhcklucHV0IiwiY2FsZW5kYXJCdXR0b24iLCJzZXJpYWxOdW1iZXJJbnB1dCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJkYXRhU3VibWl0IiwiY2hlY2tWYWxpZGl0eSIsImxlbmd0aCIsInJlbW92ZUF0dHJpYnV0ZSIsInNldEF0dHJpYnV0ZSIsImdldENvcnJlY3ROdW1iZXIiLCJudW0iLCJNYXRoIiwiZmxvb3IiLCJwaWNrZXIiLCJQaWthZGF5IiwiZmllbGQiLCJmaXJzdERheSIsIm9uU2VsZWN0IiwiZGF0ZSIsIkRhdGUiLCJkYXkiLCJnZXREYXRlIiwibW9udGgiLCJnZXRNb250aCIsInllYXIiLCJnZXRGdWxsWWVhciIsIklucHV0bWFzayIsInBsYWNlaG9sZGVyIiwibWFzayIsIm9uU2VyaWFsTnVtYmVySW5wdXQiLCJpZCIsIm5leHRTaWJsaW5nIiwiZm9jdXMiLCJjbG9zZVBvcHVwIiwiZm9yRWFjaCIsImVsIiwiY29uc29sZSIsImxvZyIsInBob25lSW5wdXQiLCJidXR0b24iLCJzdHIiLCJpbmRleE9mIl0sIm1hcHBpbmdzIjoiQ0FBQSxXQUNBLElBQUFBLEVBQUFDLFNBQUFDLGNBQUEsc0JBQ0FDLEVBQUFGLFNBQUFDLGNBQUEsMEJBQ0FFLEVBQUFILFNBQUFDLGNBQUEsMEJBRUEsR0FBQUYsR0FBQUcsR0FBQUMsRUFBQSxDQUlBLElBVUFDLEVBQUEsU0FBQUMsR0FDQSxJQUFBQyxFQUFBRCxFQUFBQyxPQUNBQSxFQUFBQyxVQUFBQyxTQUFBLG9CQUNBRixFQUFBQyxVQUFBRSxPQUFBLG9CQUlBTixFQUFBTyxpQkFBQSxTQWpCQSxXQUNBLEtBQUFYLEVBQUFZLE9BQ0FaLEVBQUFRLFVBQUFLLElBQUEsbUJBR0EsS0FBQVYsRUFBQVMsT0FDQVQsRUFBQUssVUFBQUssSUFBQSxzQkFZQWIsRUFBQVcsaUJBQUEsUUFBQU4sR0FDQUYsRUFBQVEsaUJBQUEsUUFBQU4sSUE1QkEsR0NBQSxXQUNBLElBQUFTLEVBQUFiLFNBQUFDLGNBQUEsOEJBQ0FhLEVBQUFkLFNBQUFDLGNBQUEsNEJBQ0FjLEVBQUFmLFNBQUFDLGNBQUEsNEJBQ0FlLEVBQUFoQixTQUFBQyxjQUFBLCtCQUVBLEdBQUFZLEVBQUEsQ0FJQSxJQUFBSSxFQUFBLFNBQUFDLEdBQ0FBLEVBQUFYLFVBQUFZLE9BQUEsU0FDQUQsRUFBQVgsVUFBQVksT0FBQSxXQVNBTixFQUFBSCxpQkFBQSxTQU5BLFdBQ0FPLEVBQUFILEdBQ0FHLEVBQUFGLEdBQ0FDLEVBQUFULFVBQUFZLE9BQUEsWUFsQkEsR0NBQSxXQUNBLElBQUFDLEVBQUFwQixTQUFBQyxjQUFBLFFBQ0FvQixFQUFBckIsU0FBQUMsY0FBQSx1Q0FDQXFCLEVBQUF0QixTQUFBQyxjQUFBLG1CQUNBc0IsRUFBQXZCLFNBQUFDLGNBQUEsMEJBQ0F1QixFQUFBeEIsU0FBQUMsY0FBQSw0QkFFQXdCLEVBQUF6QixTQUFBQyxjQUFBLCtCQUNBeUIsRUFBQTFCLFNBQUFDLGNBQUEsMEJBRUEwQixFQUFBM0IsU0FBQTRCLGlCQUFBLCtCQUNBQyxFQUFBN0IsU0FBQUMsY0FBQSx3QkFFQSxHQUFBb0IsRUFBQSxDQUlBLElBQUFTLEVBQUEsV0FFQSxJQUFBSCxFQUFBLEdBQUFoQixNQUFBb0IsUUFDQSxJQUFBSixFQUFBLEdBQUFoQixNQUFBb0IsUUFDQSxJQUFBSixFQUFBLEdBQUFoQixNQUFBb0IsUUFDQSxLQUFBTixFQUFBZCxNQUFBb0IsUUFBQSxNQUFBTixFQUFBZCxNQUFBLEdBRUFrQixFQUFBRyxnQkFBQSxZQUVBSCxFQUFBSSxhQUFBLFdBQUEsS0FJQUMsRUFBQSxTQUFBQyxHQUNBLE9BQUFDLEtBQUFDLE1BQUFGLEVBQUEsSUFBQSxFQUFBQSxFQUFBLElBQUFBLEdBYUFHLEVBQUEsSUFBQUMsUUFBQSxDQUNBQyxNQUFBZCxFQUNBZSxTQUFBLEVBQ0FDLFNBQUEsV0FDQSxJQUFBQyxFQUFBLElBQUFDLEtBQUFOLEdBQ0FiLEVBQUFkLE1BZkEsU0FBQWdDLEdBQ0EsSUFFQUUsR0FGQUYsRUFBQSxJQUFBQyxLQUFBRCxJQUVBRyxVQUNBQyxFQUFBSixFQUFBSyxXQUFBLEVBQ0FDLEVBQUFOLEVBQUFPLGNBRUEsT0FBQWhCLEVBQUFXLEdBQUEsSUFBQVgsRUFBQWEsR0FBQSxJQUFBRSxFQVFBSCxDQUFBSCxHQUNBYixPQUlBLElBQUFxQixVQUFBLGFBQUEsQ0FBQUMsWUFBQSxlQUNBQyxLQUFBNUIsR0FFQSxJQUFBNkIsRUFBQSxTQUFBakQsR0FDQSxJQUFBQyxFQUFBRCxFQUFBQyxPQUVBLElBQUFBLEVBQUFLLE1BQUFvQixRQUNBekIsRUFBQUMsVUFBQUMsU0FBQSxvQkFDQUYsRUFBQUMsVUFBQUUsT0FBQSxtQkFHQSxvQkFBQUgsRUFBQWlELElBQUEsb0JBQUFqRCxFQUFBaUQsSUFDQWpELEVBQUFrRCxZQUFBQSxZQUFBQyxRQUdBLG9CQUFBbkQsRUFBQWlELElBQ0E5QixFQUFBZ0MsU0FHQW5ELEVBQUFDLFVBQUFLLElBQUEsbUJBR0FrQixLQWNBNEIsRUFBQSxXQUNBcEMsRUFBQWYsVUFBQUssSUFBQSxVQUNBUSxFQUFBYixVQUFBRSxPQUFBLFVBZUFZLEVBQUFYLGlCQUFBLFNBWkEsV0FUQVksRUFBQWYsVUFBQUUsT0FBQSxVQUNBVyxFQUFBYixVQUFBSyxJQUFBLFlBcUJBVyxFQUFBYixpQkFBQSxTQVRBLFdBQ0FnRCxPQVNBbEMsRUFBQWQsaUJBQUEsU0FOQSxXQUNBZ0QsT0FPQS9CLEVBQUFnQyxTQUFBLFNBQUFDLEdBQ0FBLEVBQUFsRCxpQkFBQSxRQUFBNEMsTUFHQTdCLEVBQUFmLGlCQUFBLFNBcENBLFdBQ0FvQixJQUNBK0IsUUFBQUMsSUFBQXJDLEVBQUFkLE1BQUFvQixZQWpGQSxHQ0FBLFdBQ0EsSUFBQWdDLEVBQUEvRCxTQUFBQyxjQUFBLG1CQUNBK0QsRUFBQWhFLFNBQUFDLGNBQUEscUJBRUEsR0FBQThELEVBQUEsQ0FJQSxJQUFBWixVQUFBLG9CQUNBRSxLQUFBVSxHQVdBQSxFQUFBckQsaUJBQUEsU0FUQSxXQUNBLElBQUF1RCxFQUFBRixFQUFBcEQsTUFDQSxLQUFBc0QsRUFBQWxDLFNBQUEsSUFBQWtDLEVBQUFDLFFBQUEsS0FDQUYsRUFBQWhDLGdCQUFBLFlBRUFnQyxFQUFBL0IsYUFBQSxXQUFBLFFBaEJBIiwiZmlsZSI6InNjcmlwdC5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gKCkge1xuICB2YXIgbmFtZUlucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcImlucHV0W25hbWU9J25hbWUnXVwiKTtcbiAgdmFyIHBhc3N3b3JkSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiaW5wdXRbbmFtZT0ncGFzc3dvcmQnXVwiKTtcbiAgdmFyIHN1Ym1pdEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5hdXRob3JpemF0aW9uX19idXR0b24nKTtcblxuICBpZiAoIW5hbWVJbnB1dCB8fCAhcGFzc3dvcmRJbnB1dCB8fCAhc3VibWl0QnV0dG9uKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgdmFyIG9uU3VibWl0QnV0dG9uQ2xpY2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKG5hbWVJbnB1dC52YWx1ZSA9PT0gJycpIHtcbiAgICAgIG5hbWVJbnB1dC5jbGFzc0xpc3QuYWRkKCdqcy0td3JvbmctaW5wdXQnKTtcbiAgICB9XG5cbiAgICBpZiAocGFzc3dvcmRJbnB1dC52YWx1ZSA9PT0gJycpIHtcbiAgICAgIHBhc3N3b3JkSW5wdXQuY2xhc3NMaXN0LmFkZCgnanMtLXdyb25nLWlucHV0Jyk7XG4gICAgfVxuICB9XG5cbiAgdmFyIG9uSW5wdXQgPSBmdW5jdGlvbiAoZXZ0KSB7XG4gICAgdmFyIHRhcmdldCA9IGV2dC50YXJnZXQ7XG4gICAgaWYgKHRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ2pzLS13cm9uZy1pbnB1dCcpKSB7XG4gICAgICB0YXJnZXQuY2xhc3NMaXN0LnJlbW92ZSgnanMtLXdyb25nLWlucHV0Jyk7XG4gICAgfVxuICB9XG5cbiAgc3VibWl0QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgb25TdWJtaXRCdXR0b25DbGljayk7XG4gIG5hbWVJbnB1dC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsIG9uSW5wdXQpO1xuICBwYXNzd29yZElucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0Jywgb25JbnB1dCk7XG59KSgpO1xuIiwiKGZ1bmN0aW9uICgpIHtcbiAgdmFyIG9sZFByb2R1Y3RzQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm5vdC11c2VkLXByb2R1Y3RzX19idXR0b24nKTtcbiAgdmFyIG9sZFByb2R1Y3RzU2hvdyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5ub3QtdXNlZC1wcm9kdWN0c19fc2hvdycpO1xuICB2YXIgb2xkUHJvZHVjdHNIaWRlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm5vdC11c2VkLXByb2R1Y3RzX19oaWRlJyk7XG4gIHZhciBvbGRQcm9kdWN0cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5ub3QtdXNlZC1wcm9kdWN0c19fY29udGVudCcpO1xuXG4gIGlmICghb2xkUHJvZHVjdHNCdXR0b24pIHtcbiAgICByZXR1cm47XG4gIH1cblxuICB2YXIgb2xkUHJvZHVjdHNCdXR0b25Ub2dnbGUgPSBmdW5jdGlvbiAoaXRlbSkge1xuICAgIGl0ZW0uY2xhc3NMaXN0LnRvZ2dsZSgnc2hvd24nKTtcbiAgICBpdGVtLmNsYXNzTGlzdC50b2dnbGUoJ2hpZGRlbicpO1xuICB9O1xuXG4gIHZhciBvbk9sZFByb2R1Y3RzQnV0dG9uQ2xpY2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgb2xkUHJvZHVjdHNCdXR0b25Ub2dnbGUob2xkUHJvZHVjdHNTaG93KTtcbiAgICBvbGRQcm9kdWN0c0J1dHRvblRvZ2dsZShvbGRQcm9kdWN0c0hpZGUpO1xuICAgIG9sZFByb2R1Y3RzLmNsYXNzTGlzdC50b2dnbGUoJ3Nob3cnKTtcbiAgfTtcblxuICBvbGRQcm9kdWN0c0J1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIG9uT2xkUHJvZHVjdHNCdXR0b25DbGljayk7XG59KSgpO1xuIiwiKGZ1bmN0aW9uICgpIHtcbiAgdmFyIGJvZHkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdib2R5Jyk7XG4gIHZhciB3YXJyYW50eUNvZGVCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwibGFiZWxbZm9yPSdzZXJpYWwtbnVtYmVyLTEnXSBidXR0b25cIik7XG4gIHZhciBwb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cC13YXJyYW50eScpO1xuICB2YXIgcG9wdXBDbG9zZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cC13YXJyYW50eV9fY2xvc2UnKTtcbiAgdmFyIHBvcHVwT3ZlcmxheSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cC13YXJyYW50eV9fb3ZlcmxheScpO1xuXG4gIHZhciBjYWxlbmRhcklucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmRldmljZS1kYXRhX19wdXJjaGFzZS1kYXRlJyk7XG4gIHZhciBjYWxlbmRhckJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5kZXZpY2UtZGF0YV9fY2FsZW5kYXInKTtcblxuICB2YXIgc2VyaWFsTnVtYmVySW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuZGV2aWNlLWRhdGFfX3NlcmlhbC1udW1iZXInKTtcbiAgdmFyIGRhdGFTdWJtaXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZGV2aWNlLWRhdGFfX3N1Ym1pdCcpO1xuXG4gIGlmKCF3YXJyYW50eUNvZGVCdXR0b24pIHtcbiAgICByZXR1cm47XG4gIH1cblxuICB2YXIgY2hlY2tWYWxpZGl0eSA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZihcbiAgICAgIHNlcmlhbE51bWJlcklucHV0WzBdLnZhbHVlLmxlbmd0aCA9PT0gNlxuICAgICAgJiYgc2VyaWFsTnVtYmVySW5wdXRbMV0udmFsdWUubGVuZ3RoID09PSA2XG4gICAgICAmJiBzZXJpYWxOdW1iZXJJbnB1dFsyXS52YWx1ZS5sZW5ndGggPT09IDZcbiAgICAgICYmIChjYWxlbmRhcklucHV0LnZhbHVlLmxlbmd0aCA9PT0gMTAgJiYgY2FsZW5kYXJJbnB1dC52YWx1ZVs5XSAhPT0gJ9CTJylcbiAgICApIHtcbiAgICAgIGRhdGFTdWJtaXQucmVtb3ZlQXR0cmlidXRlKCdkaXNhYmxlZCcpO1xuICAgIH0gZWxzZSB7XG4gICAgICBkYXRhU3VibWl0LnNldEF0dHJpYnV0ZSgnZGlzYWJsZWQnLCAnJyk7XG4gICAgfVxuICB9O1xuXG4gIHZhciBnZXRDb3JyZWN0TnVtYmVyID0gZnVuY3Rpb24gKG51bSkge1xuICAgIHJldHVybiBNYXRoLmZsb29yKG51bSAvIDEwKSA+IDAgPyBudW0gOiAnMCcgKyBudW07XG4gIH07XG5cbiAgdmFyIGdldERhdGUgPSBmdW5jdGlvbiAoZGF0ZSkge1xuICAgIHZhciBkYXRlID0gbmV3IERhdGUoZGF0ZSk7XG5cbiAgICB2YXIgZGF5ID0gZGF0ZS5nZXREYXRlKCk7XG4gICAgdmFyIG1vbnRoID0gZGF0ZS5nZXRNb250aCgpICsgMTtcbiAgICB2YXIgeWVhciA9IGRhdGUuZ2V0RnVsbFllYXIoKTtcblxuICAgIHJldHVybiBnZXRDb3JyZWN0TnVtYmVyKGRheSkgKyAnLicgKyBnZXRDb3JyZWN0TnVtYmVyKG1vbnRoKSArICcuJyArIHllYXI7XG4gIH07XG5cbiAgdmFyIHBpY2tlciA9IG5ldyBQaWthZGF5KHtcbiAgICBmaWVsZDogY2FsZW5kYXJCdXR0b24sXG4gICAgZmlyc3REYXk6IDEsXG4gICAgb25TZWxlY3Q6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIGRhdGUgPSBuZXcgRGF0ZShwaWNrZXIpO1xuICAgICAgY2FsZW5kYXJJbnB1dC52YWx1ZSA9IGdldERhdGUoZGF0ZSk7XG4gICAgICBjaGVja1ZhbGlkaXR5KCk7XG4gICAgfVxuICB9KTtcblxuICB2YXIgaW0gPSBuZXcgSW5wdXRtYXNrKCc5OS45OS45OTk5JywgeyAncGxhY2Vob2xkZXInOiAn0JTQlC7QnNCcLtCT0JPQk9CTJ30pO1xuICBpbS5tYXNrKGNhbGVuZGFySW5wdXQpO1xuXG4gIHZhciBvblNlcmlhbE51bWJlcklucHV0ID0gZnVuY3Rpb24gKGV2dCkge1xuICAgIHZhciB0YXJnZXQgPSBldnQudGFyZ2V0O1xuXG4gICAgaWYgKHRhcmdldC52YWx1ZS5sZW5ndGggPT09IDYpIHtcbiAgICAgIGlmICh0YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdqcy0td3JvbmctaW5wdXQnKSkge1xuICAgICAgICB0YXJnZXQuY2xhc3NMaXN0LnJlbW92ZSgnanMtLXdyb25nLWlucHV0Jyk7XG4gICAgICB9XG5cbiAgICAgIGlmICh0YXJnZXQuaWQgPT09ICdzZXJpYWwtbnVtYmVyLTEnIHx8IHRhcmdldC5pZCA9PT0gJ3NlcmlhbC1udW1iZXItMicpIHtcbiAgICAgICAgdGFyZ2V0Lm5leHRTaWJsaW5nLm5leHRTaWJsaW5nLmZvY3VzKCk7XG4gICAgICB9XG5cbiAgICAgIGlmICh0YXJnZXQuaWQgPT09ICdzZXJpYWwtbnVtYmVyLTMnKSB7XG4gICAgICAgIGNhbGVuZGFySW5wdXQuZm9jdXMoKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgdGFyZ2V0LmNsYXNzTGlzdC5hZGQoJ2pzLS13cm9uZy1pbnB1dCcpO1xuICAgIH1cblxuICAgIGNoZWNrVmFsaWRpdHkoKTtcbiAgfTtcblxuICB2YXIgb25DYWxlbmRhcklucHV0ID0gZnVuY3Rpb24gKCkge1xuICAgIGNoZWNrVmFsaWRpdHkoKTtcbiAgICBjb25zb2xlLmxvZyhjYWxlbmRhcklucHV0LnZhbHVlLmxlbmd0aCk7XG5cbiAgfTtcblxuICB2YXIgb3BlblBvcHVwID0gZnVuY3Rpb24gKCkge1xuICAgIHBvcHVwLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgIGJvZHkuY2xhc3NMaXN0LmFkZCgncG9wdXAnKTtcbiAgfTtcblxuICB2YXIgY2xvc2VQb3B1cCA9IGZ1bmN0aW9uICgpIHtcbiAgICBwb3B1cC5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICBib2R5LmNsYXNzTGlzdC5yZW1vdmUoJ3BvcHVwJyk7XG4gIH1cblxuICB2YXIgb25XYXJyYW50eUNvZGVCdXR0b25DbGljayA9IGZ1bmN0aW9uICgpIHtcbiAgICBvcGVuUG9wdXAoKTtcbiAgfTtcblxuICB2YXIgb25Qb3B1cENsb3NlQ2xpY2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgY2xvc2VQb3B1cCgpO1xuICB9O1xuXG4gIHZhciBvblBvcHVwT3ZlcmxheUNsaWNrID0gZnVuY3Rpb24gKCkge1xuICAgIGNsb3NlUG9wdXAoKTtcbiAgfTtcblxuICB3YXJyYW50eUNvZGVCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBvbldhcnJhbnR5Q29kZUJ1dHRvbkNsaWNrKTtcbiAgcG9wdXBDbG9zZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIG9uUG9wdXBDbG9zZUNsaWNrKTtcbiAgcG9wdXBPdmVybGF5LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgb25Qb3B1cE92ZXJsYXlDbGljayk7XG5cbiAgc2VyaWFsTnVtYmVySW5wdXQuZm9yRWFjaChmdW5jdGlvbiAoZWwpIHtcbiAgICBlbC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsIG9uU2VyaWFsTnVtYmVySW5wdXQpO1xuICB9KTtcblxuICBjYWxlbmRhcklucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0Jywgb25DYWxlbmRhcklucHV0KTtcbn0oKSk7XG4iLCIoZnVuY3Rpb24gKCkge1xuICB2YXIgcGhvbmVJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jb250YWN0cyBpbnB1dCcpO1xuICB2YXIgYnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNvbnRhY3RzX19idXR0b24nKTtcblxuICBpZiAoIXBob25lSW5wdXQpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICB2YXIgaW0gPSBuZXcgSW5wdXRtYXNrKCcrNyg5OTkpOTk5LTk5LTk5Jyk7XG4gIGltLm1hc2socGhvbmVJbnB1dCk7XG5cbiAgdmFyIG9uSW5wdXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHN0ciA9IHBob25lSW5wdXQudmFsdWU7XG4gICAgaWYgKHN0ci5sZW5ndGggPT09IDE2ICYmIHN0ci5pbmRleE9mKCdfJykgPT09IC0xKSB7XG4gICAgICBidXR0b24ucmVtb3ZlQXR0cmlidXRlKCdkaXNhYmxlZCcpO1xuICAgIH0gZWxzZSB7XG4gICAgICBidXR0b24uc2V0QXR0cmlidXRlKCdkaXNhYmxlZCcsICcnKTtcbiAgICB9XG4gIH07XG5cbiAgcGhvbmVJbnB1dC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsIG9uSW5wdXQpO1xufSkoKTtcbiJdfQ==
